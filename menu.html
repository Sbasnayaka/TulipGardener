<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Tulip Gardener</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="welcome-bg-body">
    <!-- Falling Petals Background -->
    <div class="petals-container"></div>

    <!-- Top Navigation  -->
    <header class="welcome-top-nav">
        <div class="nav-brand">
            <div class="brand-hexagon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#B347FF" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22v-7"></path>
                    <path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4z"></path>
                    <path d="M12 6c-2 0-3 1-3 3s1 3 3 3s3-1 3-3s-1-3-3-3z"></path>
                </svg>
            </div>
            <span>Tulip Gardener</span>
        </div>

        <div class="nav-center-pill">
            <a href="menu.html" class="nav-item active">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="7" height="7"></rect>
                    <rect x="14" y="3" width="7" height="7"></rect>
                    <rect x="14" y="14" width="7" height="7"></rect>
                    <rect x="3" y="14" width="7" height="7"></rect>
                </svg>
                Menu
            </a>
            <!-- Dashboard is now inactive -->
            <a href="dashboard.html" class="nav-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="9" y1="3" x2="9" y2="21"></line>
                </svg>
                Dashboard
            </a>
            <a href="profile.html" class="nav-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Profile
            </a>
        </div>

        <div class="nav-actions">
            <button class="icon-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                </svg>
            </button>
            <button class="icon-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="menu-main-layout">
        <!-- Glow gradient behind the title -->
        <div class="menu-radial-glow"></div>

        <h1 class="menu-page-title">
            Tulip <span class="highlight-brand">Gardener</span>
        </h1>
        <p class="menu-page-subtitle">Select your garden patch to begin planting</p>

        <div class="mode-cards-wrapper">
            <!-- Beginner Card -->
            <a href="game.html?mode=beginner" class="mode-glass-card">
                <div class="mode-icon-circle">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Simple leaf/tulip representation for beginner -->
                        <path d="M12 2C7 2 3 6 3 11c0 3 2 6 4 9h10c2-3 4-6 4-9 0-5-4-9-9-9z"></path>
                    </svg>
                </div>
                <h3>Beginner</h3>
            </a>

            <!-- Intermediate Card -->
            <a href="game.html?mode=intermediate" class="mode-glass-card">
                <div class="mode-icon-square">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Boxy/detailed flower representation for intermediate -->
                        <path
                            d="M12 2a4 4 0 0 0-4 4 4 4 0 0 0-3 3v2c0 2 2 4 4 4h6c2 0 4-2 4-4V9a4 4 0 0 0-3-3 4 4 0 0 0-4-4zM8 15v5h8v-5c-2 1-6 1-8 0z">
                        </path>
                    </svg>
                </div>
                <h3>Intermediate</h3>
            </a>

            <!-- Pro Card -->
            <a href="game.html?mode=pro" class="mode-glass-card">
                <div class="mode-icon-circle-filled">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <!-- Complex layered flower representation for pro -->
                        <path
                            d="M12 2c-3.3 0-6 2.7-6 6 0 2.2 1.2 4.1 3 5.1V22h6v-8.9c1.8-1 3-2.9 3-5.1 0-3.3-2.7-6-6-6zm0 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z">
                        </path>
                    </svg>
                </div>
                <h3>Pro</h3>
            </a>
        </div>
    </main>

    <!-- Generic Footer aligned bottom -->
    <footer class="menu-bottom-footer">
        <div class="footer-left-actions">
            <a href="#" class="footer-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
                Settings
            </a>
            <a href="#" class="footer-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                How to play
            </a>
        </div>

        <div class="footer-right-actions">
            <span class="daily-text">DAILY CHALLENGE</span>
            <div class="challenge-pill">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="#A013EC" stroke="none">
                    <path
                        d="M7 3h10v4c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2V3zm-4 4h4v2H3V7zm14 0h4v2h-4V7zM9 11h6v6l-3 4-3-4v-6z">
                    </path>
                </svg>
                12/15
            </div>
        </div>
    </footer>

    <!-- Auth guard -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/services/supabaseClient.js"></script>
    <script src="js/services/UserService.js"></script>
    <script src="js/controllers/AuthController.js"></script>
    <script>AuthController.requireAuth();</script>

    <!-- 100+ Shiny Petal Rain Simulation -->
    <script>
        function createShinyPetals() {
            const container = document.querySelector('.petals-container');
            const petalCount = 120; // Generating over 100 petals

            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('shiny-petal');

                // Randomly position across the entire viewport width
                const leftPos = Math.random() * 100;

                // Random duration between 8s and 20s for realistic floating
                const animDuration = Math.random() * 12 + 8;

                // Random delay to stagger the initial drop
                const animDelay = Math.random() * 10;

                // Random scale so petals look like individual small pieces or clumps
                const scale = Math.random() * 0.2 + 0.1;

                petal.style.left = `${leftPos}vw`;
                petal.style.animationDuration = `${animDuration}s`;
                petal.style.animationDelay = `-${animDelay}s`; // use negative delay so the screen is immediately populated
                petal.style.setProperty('--scale-factor', scale);

                // Randomly start with some rotation
                const initialRotation = Math.random() * 360;
                petal.style.setProperty('--rot-start', `${initialRotation}deg`);
                petal.style.setProperty('--rot-end', `${initialRotation + (Math.random() > 0.5 ? 360 : -360)}deg`);

                container.appendChild(petal);
            }
        }
        createShinyPetals();
    </script>
</body>

</html>